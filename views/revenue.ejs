<%- include('./navbar') %>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div class="container mt-5">
  <h2 class="text-center mb-4 text-success">ðŸ’° Revenue Trends</h2>

  <% if (revenues && revenues.length > 0) { %>
    <canvas id="revenueChart" height="100"></canvas>

    <script>
      const ctx = document.getElementById('revenueChart').getContext('2d');

      const revenueChart = new Chart(ctx, {
        type: 'line',
        data: {
          //labels: <%- JSON.stringify(revenues.map(item => new Date(item.createdAt).toLocaleDateString())) %>,
          datasets: [{
            label: 'Revenue in â‚¹',
           // data: <%- JSON.stringify(revenues.map(item => item.amount)) %>,
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
    </script>
  <% } else { %>
    <div class="alert alert-warning text-center">No revenue data available to display.</div>
  <% } %>
</div>

<%- include('./footer') %>
